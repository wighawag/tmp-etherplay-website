{"version":3,"names":[],"sources":["AsyncLink.svelte"],"sourcesContent":["<script lang=\"ts\">import { onDestroy, SvelteComponent } from 'svelte';\r\nimport { getRouter } from '@curi/svelte';\r\nlet router = getRouter();\r\nlet canNavigate = (event, target) => {\r\n    return (!event.defaultPrevented &&\r\n        !target &&\r\n        event.button === 0 &&\r\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey));\r\n};\r\nexport let name;\r\nexport let params = {};\r\nexport let hash = undefined;\r\nexport let query = undefined;\r\nexport let state = null;\r\nexport let wrapper;\r\nlet navigating = false;\r\n$: url = router.url({ name, params, hash, query });\r\n$: target = $$restProps.target;\r\nlet cancelCallbacks;\r\nfunction handleClick(event) {\r\n    if (canNavigate(event, target)) {\r\n        event.preventDefault();\r\n        let cancelled, finished;\r\n        cancelled = finished = () => {\r\n            cancelCallbacks = undefined;\r\n            navigating = false;\r\n        };\r\n        navigating = true;\r\n        cancelCallbacks = router.navigate({\r\n            url,\r\n            state,\r\n            cancelled,\r\n            finished,\r\n        });\r\n    }\r\n}\r\nonDestroy(() => {\r\n    if (cancelCallbacks) {\r\n        cancelCallbacks();\r\n    }\r\n});\r\n</script>\n\n<a {...$$restProps} href={url} on:click={handleClick}>\n  <svelte:component this={wrapper} {navigating}>\n    <slot />\n  </svelte:component>\n</a>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;SAA2B,SAAS,EAAE,eAAe,QAAQ,QAAQ;SAC5D,SAAS,QAAQ,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCA2Cd,GAAO;;;;;;;;;;;;;;;;iCAD1B,GAAW,qBAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;;iDAAY,GAAW;;;;;;;;;;;;oDAC1B,GAAO;;;;;;;;;;;;;;;;;;;;;;;;;kDAD1B,GAAW;uDAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;KAzCzB,MAAM,GAAG,SAAS;;KAClB,WAAW,IAAI,KAAK,EAAE,MAAM;UACnB,KAAK,CAAC,gBAAgB,KAC1B,MAAM,IACP,KAAK,CAAC,MAAM,KAAK,CAAC,MAChB,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ;;;OAE/D,IAAI;OACJ,MAAM;OACN,IAAI,GAAG,SAAS;OAChB,KAAK,GAAG,SAAS;OACjB,KAAK,GAAG,IAAI;OACZ,OAAO;KACd,UAAU,GAAG,KAAK;KAGlB,eAAe;;UACV,WAAW,CAAC,KAAK;MAClB,WAAW,CAAC,KAAK,EAAE,MAAM;GACzB,KAAK,CAAC,cAAc;OAChB,SAAS,EAAE,QAAQ;;GACvB,SAAS,GAAG,QAAQ;IAChB,eAAe,GAAG,SAAS;oBAC3B,UAAU,GAAG,KAAK;;;mBAEtB,UAAU,GAAG,IAAI;GACjB,eAAe,GAAG,MAAM,CAAC,QAAQ,GAC7B,GAAG,EACH,KAAK,EACL,SAAS,EACT,QAAQ;;;;CAIpB,SAAS;MACD,eAAe;GACf,eAAe;;;;;;;;;;;;;;;;;;GAtBvB,CAAC,kBAAE,GAAG,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK;;;EAC/C,CAAC,EAAE,MAAM,GAAG,WAAW,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}