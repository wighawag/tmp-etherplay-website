{"version":3,"names":[],"sources":["Modal.svelte"],"sourcesContent":["<script lang=\"ts\">import { createEventDispatcher, onDestroy } from 'svelte';\r\nexport let globalCloseButton = false;\r\nexport let closeButton = false;\r\nexport let title;\r\nexport let cancelable = true;\r\nconst dispatch = createEventDispatcher();\r\nconst close = () => cancelable && dispatch('close');\r\nlet modal;\r\nfunction handle_keydown(evt) {\r\n    evt = evt || window.event;\r\n    var isEscape = false;\r\n    if ('key' in evt) {\r\n        isEscape = evt.key === 'Escape' || evt.key === 'Esc';\r\n    }\r\n    else {\r\n        isEscape = evt.keyCode === 27;\r\n    }\r\n    if (isEscape) {\r\n        close();\r\n        return;\r\n    }\r\n    if (evt.key === 'Tab') {\r\n        // trap focus\r\n        const nodes = modal.querySelectorAll('*');\r\n        const tabbable = Array.from(nodes).filter((n) => n.tabIndex >= 0);\r\n        let index = -1;\r\n        if (document.activeElement) {\r\n            index = tabbable.indexOf(document.activeElement);\r\n        }\r\n        if (index === -1 && evt.shiftKey)\r\n            index = 0;\r\n        index += tabbable.length + (evt.shiftKey ? -1 : 1);\r\n        index %= tabbable.length;\r\n        tabbable[index].focus &&\r\n            tabbable[index].focus();\r\n        evt.preventDefault();\r\n    }\r\n}\r\nconst previously_focused = typeof document !== 'undefined' && document.activeElement;\r\nif (previously_focused) {\r\n    onDestroy(() => {\r\n        const htmlElement = previously_focused;\r\n        if (htmlElement.focus) {\r\n            htmlElement.focus();\r\n        }\r\n    });\r\n}\r\n</script>\n\n<svelte:window on:keydown={handle_keydown} />\n\n<div\n  class=\"modal z-50 opacity-80 fixed w-full h-full top-0 left-0 flex items-center justify-center\">\n  <div\n    on:click={close}\n    class=\"z-50 modal-overlay absolute w-full h-full bg-gray-900 opacity-50\" />\n\n  <div\n    class=\"z-50 modal-container bg-black border-2 border-gray-800 w-11/12 md:max-w-md mx-auto rounded\n    shadow-lg overflow-y-auto\">\n    {#if globalCloseButton}\n      <div\n        on:click={close}\n        class=\"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm\n          z-50\">\n        <svg\n          class=\"fill-current text-white\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"18\"\n          height=\"18\"\n          viewBox=\"0 0 18 18\">\n          <path\n            d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\" />\n        </svg>\n        <span class=\"text-sm\">(Esc)</span>\n      </div>\n    {/if}\n\n    <!-- Add margin if you want to see some of the overlay behind the modal-->\n    <div class=\"modal-content py-4 text-left px-6\" bind:this={modal}>\n      <div class=\"flex justify-between items-center pb-3\">\n        <!--Title-->\n        {#if title}\n          <p class=\"text-2xl font-bold\">{title}</p>\n        {/if}\n        {#if closeButton}\n          <div on:click={close} class=\"modal-close cursor-pointer z-50\">\n            <svg\n              class=\"fill-current text-black\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\">\n              <path\n                d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\" />\n            </svg>\n          </div>\n        {/if}\n      </div>\n\n      <!--Body-->\n      <slot />\n\n      <!--Footer-->\n      <div class=\"flex justify-end pt-2\">\n        <slot name=\"footer\" />\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;SAA2B,qBAAqB,EAAE,SAAS,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;6CA8DzD,GAAK;;;;;;;;;;;;;;;;;;;;;sBAqBkB,GAAK;;;;;;;;kDAAL,GAAK;;;;;;;;;;;;;;;;;;;;;;;;6CAGrB,GAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;uCA1BrB,GAAiB;2BAsBb,GAAK;iCAGL,GAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oDApCG,GAAc;qCAK3B,GAAK;;;;;;;6BAMV,GAAiB;;;;;;;;;;;;;iBAsBb,GAAK;;;;;;;;;;;;;uBAGL,GAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OApFb,iBAAiB,GAAG,KAAK;OACzB,WAAW,GAAG,KAAK;OACnB,KAAK;OACL,UAAU,GAAG,IAAI;OACtB,QAAQ,GAAG,qBAAqB;OAChC,KAAK,SAAS,UAAU,IAAI,QAAQ,CAAC,OAAO;KAC9C,KAAK;;UACA,cAAc,CAAC,GAAG;EACvB,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC,KAAK;MACrB,QAAQ,GAAG,KAAK;;MAChB,KAAK,IAAI,GAAG;GACZ,QAAQ,GAAG,GAAG,CAAC,GAAG,KAAK,QAAQ,IAAI,GAAG,CAAC,GAAG,KAAK,KAAK;;GAGpD,QAAQ,GAAG,GAAG,CAAC,OAAO,KAAK,EAAE;;;MAE7B,QAAQ;GACR,KAAK;;;;MAGL,GAAG,CAAC,GAAG,KAAK,KAAK;;SAEX,KAAK,GAAG,KAAK,CAAC,gBAAgB,CAAC,GAAG;;SAClC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAE,CAAC,IAAK,CAAC,CAAC,QAAQ,IAAI,CAAC;OAC5D,KAAK,IAAI,CAAC;;OACV,QAAQ,CAAC,aAAa;IACtB,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa;;;OAE/C,KAAK,MAAM,CAAC,IAAI,GAAG,CAAC,QAAQ,EAC5B,KAAK,GAAG,CAAC;GACb,KAAK,IAAI,QAAQ,CAAC,MAAM,IAAI,GAAG,CAAC,QAAQ,IAAI,CAAC,GAAG,CAAC;GACjD,KAAK,IAAI,QAAQ,CAAC,MAAM;GACxB,QAAQ,CAAC,KAAK,EAAE,KAAK,IACjB,QAAQ,CAAC,KAAK,EAAE,KAAK;GACzB,GAAG,CAAC,cAAc;;;;OAGpB,kBAAkB,UAAU,QAAQ,KAAK,WAAW,IAAI,QAAQ,CAAC,aAAa;;KAChF,kBAAkB;EAClB,SAAS;SACC,WAAW,GAAG,kBAAkB;;OAClC,WAAW,CAAC,KAAK;IACjB,WAAW,CAAC,KAAK;;;;;;;GAoCiC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}